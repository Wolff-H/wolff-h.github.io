import{d as u,B as p,o as c,b,w as l,G as d,j as a,p as y,a as s,k as g,a4 as x,c as v,aJ as T}from"./chunks/framework.etEQwTBT.js";/* empty css                         */import{E as S,a as _}from"./chunks/theme.DlEy-qLm.js";const A=u({__name:"basic-usage",setup(m){const o={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"serie1",type:"bar",data:[120,200,150,80,70,110,130]},{name:"serie2",type:"bar",data:[30,210,170,240,20,80,160]},{name:"serie3",type:"bar",data:[90,110,120,130,70,110,200]}]},t={title:{text:"Referer of a Website",subtext:"Fake Data",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return(h,r)=>{const e=p("echartx"),i=p("c-showcase-box");return c(),b(i,{path:"echartx/basic-usage"},{default:l(()=>[d(e,{class:"demo-figure-medium-size","echart-option":o}),r[0]||(r[0]=a("br",null,null,-1)),r[1]||(r[1]=a("br",null,null,-1)),d(e,{class:"demo-figure-medium-size","echart-option":t})]),_:1})}}}),P=u({__name:"echarts-use",setup(m){const o={tooltip:{trigger:"axis",order:"valueDesc"},legend:{type:"scroll"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"Email",type:"line",stack:"Total",data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320]},{name:"Text Ads",type:"line",stack:"Total",data:[20,82,91,34,90,230,210]},{name:"Physical Ads",type:"line",stack:"Total",data:[260,232,251,294,250,280,250]},{name:"Social Media",type:"line",stack:"Total",data:[720,592,898,839,791,635,419]},{name:"Interpersonal Sharing",type:"line",stack:"Total",data:[120,52,61,36,101,198,100]},{name:"Spam (Email)",type:"line",stack:"Total",data:[110,91,86,115,150,150,170]},{name:"Spam (Social Media)",type:"line",stack:"Total",data:[210,202,141,204,294,130,26]},{name:"Spam (SMS)",type:"line",stack:"Total",data:[220,382,291,334,290,130,313]},{name:"Spam (Union Ads)",type:"line",stack:"Total",data:[330,272,291,354,420,450,440]},{name:"Spam (Video Ads)",type:"line",stack:"Total",data:[220,342,301,224,270,340,630]},{name:"Spam (Search Engine)",type:"line",stack:"Total",data:[845,1232,1401,1334,1690,1530,1520]},{name:"Spam (Text Ads)",type:"line",stack:"Total",data:[40,142,171,94,150,30,10]},{name:"Spam (Physical Ads)",type:"line",stack:"Total",data:[160,32,58,64,120,140,110]},{name:"Pyramid Sale",type:"line",stack:"Total",data:[1220,1182,1091,1234,1090,1130,1610]}]};return(t,h)=>{const r=p("echartx"),e=p("c-showcase-box");return c(),b(e,{path:"echartx/echarts-use"},{default:l(()=>[d(r,{class:"demo-figure-medium-size","echart-option":o})]),_:1})}}}),C={class:"dialog-footer"},R={class:"dialog-footer"},V=u({__name:"anti-flicker",setup(m){const o=y(!1),t=y(!1),h={tooltip:{trigger:"axis",order:"valueDesc"},legend:{type:"scroll"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"Email",type:"line",stack:"Total",data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320]},{name:"Text Ads",type:"line",stack:"Total",data:[20,82,91,34,90,230,210]},{name:"Physical Ads",type:"line",stack:"Total",data:[260,232,251,294,250,280,250]},{name:"Social Media",type:"line",stack:"Total",data:[720,592,898,839,791,635,419]},{name:"Interpersonal Sharing",type:"line",stack:"Total",data:[120,52,61,36,101,198,100]},{name:"Spam (Email)",type:"line",stack:"Total",data:[110,91,86,115,150,150,170]},{name:"Spam (Social Media)",type:"line",stack:"Total",data:[210,202,141,204,294,130,26]},{name:"Spam (SMS)",type:"line",stack:"Total",data:[220,382,291,334,290,130,313]},{name:"Spam (Union Ads)",type:"line",stack:"Total",data:[330,272,291,354,420,450,440]},{name:"Spam (Video Ads)",type:"line",stack:"Total",data:[220,342,301,224,270,340,630]},{name:"Spam (Search Engine)",type:"line",stack:"Total",data:[845,1232,1401,1334,1690,1530,1520]},{name:"Spam (Text Ads)",type:"line",stack:"Total",data:[40,142,171,94,150,30,10]},{name:"Spam (Physical Ads)",type:"line",stack:"Total",data:[160,32,58,64,120,140,110]},{name:"Pyramid Sale",type:"line",stack:"Total",data:[1220,1182,1091,1234,1090,1130,1610]}]};return(r,e)=>{const i=S,k=p("echartx"),f=_,E=p("c-showcase-box");return c(),b(E,{path:"echartx/anti-flicker"},{default:l(()=>[d(i,{plain:"",onClick:e[0]||(e[0]=n=>o.value=!0)},{default:l(()=>e[8]||(e[8]=[s(" 没开防闪烁 ")])),_:1}),d(i,{plain:"",onClick:e[1]||(e[1]=n=>t.value=!0)},{default:l(()=>e[9]||(e[9]=[s(" 开了防闪烁 ")])),_:1}),d(f,{modelValue:g(o),"onUpdate:modelValue":e[4]||(e[4]=n=>x(o)?o.value=n:null),title:"模态框",width:"50%"},{footer:l(()=>[a("div",C,[d(i,{onClick:e[2]||(e[2]=n=>o.value=!1)},{default:l(()=>e[10]||(e[10]=[s("取消")])),_:1}),d(i,{type:"primary",onClick:e[3]||(e[3]=n=>o.value=!1)},{default:l(()=>e[11]||(e[11]=[s(" 确定 ")])),_:1})])]),default:l(()=>[d(k,{class:"demo-figure-medium-size","echart-option":h})]),_:1},8,["modelValue"]),d(f,{modelValue:g(t),"onUpdate:modelValue":e[7]||(e[7]=n=>x(t)?t.value=n:null),title:"模态框",width:"50%"},{footer:l(()=>[a("div",R,[d(i,{onClick:e[5]||(e[5]=n=>t.value=!1)},{default:l(()=>e[12]||(e[12]=[s("取消")])),_:1}),d(i,{type:"primary",onClick:e[6]||(e[6]=n=>t.value=!1)},{default:l(()=>e[13]||(e[13]=[s(" 确定 ")])),_:1})])]),default:l(()=>[d(k,{class:"demo-figure-medium-size","echart-option":h,"anti-flicker":""})]),_:1},8,["modelValue"])]),_:1})}}}),z=JSON.parse('{"title":"Echartx","description":"","frontmatter":{},"headers":[],"relativePath":"en/components/echartx.md","filePath":"en/components/echartx.md"}'),w={name:"en/components/echartx.md"},M=Object.assign(w,{setup(m){return(o,t)=>{const h=p("c-craft-badge-group");return c(),v("div",null,[t[0]||(t[0]=a("h1",{id:"echartx",tabindex:"-1"},[s("Echartx "),a("a",{class:"header-anchor",href:"#echartx","aria-label":'Permalink to "Echartx"'},"​")],-1)),t[1]||(t[1]=a("br",null,null,-1)),d(h,{readme:"https://github.com/Wolff-H/echartx/blob/master/README.md",github:"https://github.com/Wolff-H/echartx",npm:"https://npmjs.com/package/@wolff-h/echartx"}),t[2]||(t[2]=T(`<p>增强的 Echart 图表。基于 echarts 和 element-plus UI，额外提供了放大展示、切换视图、下载数据等功能，并集成了 echarts-use 能力。</p><p>在绝大部分场景下，使用 Echartx 组件时不需要更改任何设置。</p><h2 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h2><p>Echartx 不自带 ECharts 库依赖，你需要在工程中安装自己的 ECharts 包，然后将其依赖通过 Echartx 的初始化方法引入。 <code>options</code>是额外的参数配置。<code>resizeable</code> false 表示禁用自带的缩放功能。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> echarts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;echarts&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { initialize } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@wolff-h/echartx&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ echarts, options: { resizable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } })</span></span></code></pre></div><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><p>默认配置下的 Echartx 图表。</p>`,7)),d(A),t[3]||(t[3]=a("h2",{id:"集成了-echarts-use-能力",tabindex:"-1"},[s("集成了 echarts-use 能力 "),a("a",{class:"header-anchor",href:"#集成了-echarts-use-能力","aria-label":'Permalink to "集成了 echarts-use 能力"'},"​")],-1)),t[4]||(t[4]=a("p",null,"Echartx 图表集成了 echarts-use 能力，你可以控制其在单独图表实例中生效。",-1)),t[5]||(t[5]=a("p",null,"在下面这个图表中体验 echarts-use 能力：",-1)),t[6]||(t[6]=a("ul",null,[a("li",null,"全局反选（globallyReverse）：在任意图例上双击，反选当前作图序列。"),a("li",null,"可滚浮窗（scrollableTooltip）：在浮窗内容过长时，可浮窗内容可滚动查看。"),a("li",null,"自适应空间（autoResize）：当作图容器大小变化，自动调整作图大小。"),a("li",null,"可调整大小（resizable）：支持手动调整作图元素大小。")],-1)),d(P),t[7]||(t[7]=a("h2",{id:"防闪烁",tabindex:"-1"},[s("防闪烁 "),a("a",{class:"header-anchor",href:"#防闪烁","aria-label":'Permalink to "防闪烁"'},"​")],-1)),t[8]||(t[8]=a("p",null,"特别地，当 echartx 元素切换显隐状态时（通常是由于被渲染在了模态框或标签页中），元素由隐藏时到显示时的计算尺寸变化会有缩放防抖延迟的闪烁跳跃。",-1)),t[9]||(t[9]=a("p",null,[s("启用"),a("code",null,"anti-flicker"),s("解决此问题。echartx 将监听元素显隐切换，在合适的时机立即缩放重绘画布，避免画布闪烁。")],-1)),t[10]||(t[10]=a("p",null,"仅在你确定 echartx 元素可能会发生显隐切换时启用此功能，避免无意义的性能开销。",-1)),t[11]||(t[11]=a("blockquote",null,[a("p",null,"你也可以通过设置 auto-resize 的防抖为 0 来解决，但不建议这样做，这会导致可观且无意义的性能开销。")],-1)),d(V),t[12]||(t[12]=T('<h2 id="echartx-属性" tabindex="-1">Echartx 属性 <a class="header-anchor" href="#echartx-属性" aria-label="Permalink to &quot;Echartx 属性&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>id</td><td>全局唯一标记此图表的标识符（当你配置一些实例专用的设置时需要）</td><td>string</td><td>—</td><td>—</td></tr><tr><td>echart-option</td><td>传给 echarts 实例的 option</td><td><code>echarts.EChartsOption</code></td><td>—</td><td>—</td></tr><tr><td>init-params</td><td>echarts 实例的初始化参数</td><td><code>Parameters&lt;typeof echarts.init&gt;[2]</code></td><td>—</td><td>{}</td></tr><tr><td>override-option</td><td>是否覆写式更新实例的 Option。默认启用。</td><td>boolean</td><td>—</td><td>true</td></tr><tr><td>watch-option</td><td>自动监听 echartOption 更新。默认启用。关闭此项，则你需要手动控制图表实例来执行更新。</td><td>boolean</td><td>—</td><td>true</td></tr><tr><td>actions</td><td>操作的自定义方法（放大展示、切换视图、下载数据）。详见 Actions 属性说明。</td><td><code>Actions</code></td><td>—</td><td>—</td></tr><tr><td>actions-enabled</td><td>启用的操作项。不设置则启用全部。</td><td><code>(&#39;expand&#39; | &#39;toggleViewMode&#39; | &#39;download&#39;)[]</code></td><td>—</td><td>—</td></tr><tr><td>echarts-use</td><td>集成的 echarts-use 功能。详见 EchartsUse 属性说明。</td><td><code>EchartsUseConfig</code></td><td>—</td><td>—</td></tr><tr><td>download-file-name</td><td>（内置下载）下载文件的输出名称</td><td><code>() =&gt; string</code></td><td>—</td><td>—</td></tr><tr><td>download-file-name-timestamp</td><td>（内置下载）下载文件的输出名称是否附加后缀时间戳</td><td>boolean</td><td>—</td><td>true</td></tr><tr><td>anti-flicker</td><td>画布缩放重绘的防闪烁。请仅在确定 echartx 元素可能会发生显隐切换时启用。</td><td>boolean</td><td>—</td><td>—</td></tr><tr><td>table-resolving</td><td>将作图数据转换为表格的设置。详见 TableResolving 属性说明。</td><td><code>TableResolvingConfig</code></td><td>—</td><td>—</td></tr></tbody></table><h2 id="actions-属性" tabindex="-1">Actions 属性 <a class="header-anchor" href="#actions-属性" aria-label="Permalink to &quot;Actions 属性&quot;">​</a></h2><p>传入的自定义的操作方法。</p><p>这些方法会在相应的内置操作行为前执行。在自定义方法内返回<code>false</code>，将阻止内置的默认行为。</p><table tabindex="0"><thead><tr><th>属性</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>expand</td><td>接收一个函数，在触发「放大展示」动作时执行</td><td><code>() =&gt; void | false</code></td><td>—</td><td>—</td></tr><tr><td>toggleViewMode</td><td>接收一个函数，在触发「切换视图」动作时执行</td><td><code>() =&gt; void | false</code></td><td>—</td><td>—</td></tr><tr><td>download</td><td>接收一个函数，在触发「下载数据」动作时执行</td><td><code>() =&gt; void | false</code></td><td>—</td><td>—</td></tr></tbody></table><h2 id="echartsuse-属性" tabindex="-1">EchartsUse 属性 <a class="header-anchor" href="#echartsuse-属性" aria-label="Permalink to &quot;EchartsUse 属性&quot;">​</a></h2><p>各个插件的参数详见 <em>工具/echarts-use</em>。</p><table tabindex="0"><thead><tr><th>属性</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>autoResize</td><td>接收一个 [enable, props] 元组，分别设置启用与否和参数</td><td><code>[enable?: boolean, props?: AutoResizeProps]</code></td><td>—</td><td>—</td></tr><tr><td>resizable</td><td>接收一个 [enable, props] 元组，分别设置启用与否和参数</td><td><code>[enable?: boolean, props?: ResizableProps]</code></td><td>—</td><td>—</td></tr><tr><td>globallyReverse</td><td>接收一个 [enable, props] 元组，分别设置启用与否和参数</td><td><code>[enable?: boolean, props?: GloballyReverseProps]</code></td><td>—</td><td>—</td></tr><tr><td>scrollableTooltip</td><td>接收一个 [enable, props] 元组，分别设置启用与否和参数</td><td><code>[enable?: boolean, props?: ScrollableTooltipProps]</code></td><td>—</td><td>—</td></tr></tbody></table><h2 id="tableresolving-属性" tabindex="-1">TableResolving 属性 <a class="header-anchor" href="#tableresolving-属性" aria-label="Permalink to &quot;TableResolving 属性&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>smartPercentSuffix</td><td>使用内置解析器转换表格数据时，是否智能识别和添加列名的百分率后缀</td><td>boolean</td><td>—</td><td>false</td></tr><tr><td>parser</td><td>传入的自定义的 table 构造解析器</td><td><code>(option: EChartsOption) =&gt; { columns: any[]; data: any[] }</code></td><td>—</td><td>—</td></tr></tbody></table><h2 id="echartx-对外暴露的属性-方法" tabindex="-1">Echartx 对外暴露的属性/方法 <a class="header-anchor" href="#echartx-对外暴露的属性-方法" aria-label="Permalink to &quot;Echartx 对外暴露的属性/方法&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性/方法</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>ref</td><td>顶层 div 元素</td><td><code>Ref&lt;HTMLDivElement&gt;</code></td><td>—</td><td>—</td></tr><tr><td>figureRef</td><td>绘图元素</td><td><code>Ref&lt;HTMLDivElement&gt;</code></td><td>—</td><td>—</td></tr><tr><td>tableRef</td><td>表格实例</td><td><code>Ref&lt;Table&lt;any&gt;&gt;</code></td><td>—</td><td>—</td></tr><tr><td>expandedPlottingRef</td><td>放大展示模态框元素</td><td><code>Ref&lt;HTMLDivElement&gt;</code></td><td>—</td><td>—</td></tr><tr><td>figureInstance</td><td>绘图实例</td><td><code>null | ExtendedEchartsInstance</code></td><td>—</td><td>—</td></tr></tbody></table><h2 id="备注" tabindex="-1">备注 <a class="header-anchor" href="#备注" aria-label="Permalink to &quot;备注&quot;">​</a></h2><p>Echartx 内置提供了将作图数据转换到表格的能力，但是仍然强烈建议你使用自己的实现。</p><p>Echartx 当前内置的 tableResolver 尚未覆盖所有情况（目前已支持的有：折线图、柱状图、饼图）。如果需要转换更多图表类型，或定制转换（如格式化、重命名），最佳做法是在 <code>tableResolving</code> 中传入你自己的 parser 来做解析。</p>',16))])}}});export{z as __pageData,M as default};
